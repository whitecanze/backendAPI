let express,server,mongoose,config;_79fâ€.w("express",[["default",["express"],function(v){express=v}]]);_79fâ€.w("./server",[["default",["server"],function(v){server=v}]]);_79fâ€.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_79fâ€.w("dotenv",[["config",["config"],function(v){config=v}]]);




config()

const {
    DB_USERNAME,
    DB_PASSWORD,
    DB_NAME,
    PORT,
} = process.env

const createServer = async () => {
    try {
        await mongoose.connect(
            `mongodb+srv://${DB_USERNAME}:${DB_PASSWORD}@graphql-basic.7dgl9.mongodb.net/${DB_NAME}?retryWrites=true&w=majority`,
            { useUnifiedTopology : true , useFindAndModify: false},
        )

        const app = express()

        server.applyMiddleware({ app })

        app.listen({ port: `${PORT}`}, () =>
            console.log(`ğŸš€ Server ready at http://localhost:${PORT}${server.graphqlPath}`)
        )
    } catch (error) {
        _79fâ€.g.console.log(error)
    }
}

createServer()