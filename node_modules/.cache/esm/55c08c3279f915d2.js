let express,server,mongoose,config;_79f‍.w("express",[["default",["express"],function(v){express=v}]]);_79f‍.w("./server",[["default",["server"],function(v){server=v}]]);_79f‍.w("mongoose",[["default",["mongoose"],function(v){mongoose=v}]]);_79f‍.w("dotenv",[["config",["config"],function(v){config=v}]]);




config()

const {
    DB_USERNAME,
    DB_PASSWORD,
    DB_NAME,
    PORT,
} = process.env

const createServer = async () => {
    try {
        await mongoose.connect(
            `mongodb+srv://${DB_USERNAME}:${DB_PASSWORD}@graphql-basic.7dgl9.mongodb.net/${DB_NAME}?retryWrites=true&w=majority`,
            { useUnifiedTopology : true , useFindAndModify: false},
        )

        const app = express()

        server.applyMiddleware({ app })

        app.listen({ port: `${PORT}`}, () =>
            console.log(`🚀 Server ready at http://localhost:${PORT}${server.graphqlPath}`)
        )
    } catch (error) {
        _79f‍.g.console.log(error)
    }
}

createServer()